(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{scrQ:function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return c})),t.d(a,"default",(function(){return p}));t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V"),t("91GP"),t("q1tI");var n=t("E/Ix"),s=t("7oih"),o=t("5Epl");var c={},r={_frontmatter:c},i=s.a;function p(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,["components"]);return Object(n.b)(i,Object.assign({},r,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"GraphQL es una arquitectura de dise√±o de APIs y tiene una sintaxis particular\npara describir c√≥mo consultar data que tiene 3 caracter√≠sticas principales:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Permite al cliente especificar exactamente qu√© data necesita (con sintaxis\n",Object(n.b)("em",{parentName:"li"},"parecida")," a un objeto JSON)"),Object(n.b)("li",{parentName:"ul"},"Facilita traer data de fuentes m√∫ltiples"),Object(n.b)("li",{parentName:"ul"},"Usa un sistema de tipos para describir la data")),Object(n.b)("p",null,"Hasta ahora todo muy de manual, pero sigamos as√≠ se entiende un poco m√°s todo üòä"),Object(n.b)("h3",null,"REST vs GraphQL"),Object(n.b)("p",null,"Veamos las diferencias que tienen GraphQL vs una API REST:"),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",Object.assign({parentName:"tr"},{align:null}),"API REST"),Object(n.b)("th",Object.assign({parentName:"tr"},{align:null}),"GraphQL"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"M√∫ltiples endpoints"),Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Un solo endpoint")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Puede producirse over/under fetching (pedir data de menos/m√°s)"),Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Se pide s√≥lo la data necesaria")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Puede retrasar tiempos de desarrollo si el endpoint no est√° preparado"),Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Es m√°s din√°mico en preparaci√≥n de datos desde el back")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Es expl√≠cito el tipo de petici√≥n que se realiza"),Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"No es tan claro el tipo de petici√≥n")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"M√°s claro para manejo de request params / variables"),Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Quiz√°s un poco menos claro para manejo de variables")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Debe mantenerse la documentaci√≥n al d√≠a"),Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Es autodocumentado")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Distintas versiones pueden romper compatibilidad"),Object(n.b)("td",Object.assign({parentName:"tr"},{align:null}),"Es incremental, disminuye la incompatibilidad entre versiones")))),Object(n.b)("p",null,Object(n.b)("em",{parentName:"p"},"Tengan en claro que algunas cosas de esta tabla son opiniones personales, si\nalguien cree que las cosas no son como las digo y me puede explicar, soy todo\no√≠dos")," ü§ó"),Object(n.b)("p",null,"Veamos una comparaci√≥n de c√≥mo deber√≠a traerse la data desde una API REST contra\nuna GraphQL si estuvi√©semos haciendo, por ejemplo, una red social:"),Object(n.b)("h4",null,"REST"),Object(n.b)("h2",null,Object(n.b)(o.a,{imgName:"rest.png",alt:"Peticiones a una API REST",mdxType:"Image"})),Object(n.b)("h4",null,"GraphQL"),Object(n.b)("h2",null,Object(n.b)(o.a,{imgName:"graphql.png",alt:"Peticiones a una API GraphQL",mdxType:"Image"})),Object(n.b)("p",null,"Como vemos, seg√∫n como est√° armada esta API REST, para mostrar la data de lo que\nser√≠a el ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"Home")," de algo similar a la red social del pajarito, tendr√≠amos que\nhacer 3 peticiones para traer los datos que, utilizando GraphQL, podr√≠amos traer\nen una sola petici√≥n. Ah√≠ se nota la diferencia en cantidad de endpoints."),Object(n.b)("p",null,"Todo esto que digo no es que quiera decir que GraphQL es ",Object(n.b)("em",{parentName:"p"},"mejor")," o que ",Object(n.b)("em",{parentName:"p"},"viene a\nreemplazar a REST"),", sino que naci√≥ con la idea de mejorar algunas falencias de\nREST, pero REST es mejor en otras cosas y situaciones. (cosa que no vamos a\ncubrir ac√° porque sino se hace largu√≠simo jajajaja üòÖ)"),Object(n.b)("p",null,"En nuestro caso, nosotros vamos a ver c√≥mo se piden datos para utilizarlos en el\nfrontend, podemos encontrar un ejemplo de una ",Object(n.b)("strong",{parentName:"p"},"query")," (consulta) en el archivo\n",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"src/components/layout.js"),":"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-js"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," data ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"useStaticQuery"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"graphql",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"\n  query SiteTitleQuery {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")")))),Object(n.b)("p",null,Object(n.b)("strong",{parentName:"p"},"Qu√© #$%#$ es esto, Agustin?")," üòí S√≠, yo s√© que al principio dije que era\n",Object(n.b)("em",{parentName:"p"},"parecida")," a JSON la sintaxis y esto tiene cosas que nada que ver. Por suerte,\ncomo Gatsby es re copado ya viene con una herramienta fant√°stica para ver toda\nla data que tenemos disponible para consultar mediante GraphQL. Si notaron en la\nconsola luego de correr el comando ",Object(n.b)("strong",{parentName:"p"},"gatsby develop"),", dice que si van a\n",Object(n.b)("a",Object.assign({parentName:"p"},{href:"http://localhost:8000/___graphql"}),"http://localhost:8000/___graphql")," se van a encontrar con ",Object(n.b)("strong",{parentName:"p"},"GraphiQL")," donde vamos\na ver listado del lado izquierdo en la secci√≥n ",Object(n.b)("em",{parentName:"p"},"Explorer")," toda la data que\ntenemos disponible para traernos al frontend con GraphQL."),Object(n.b)(o.a,{imgName:"graphiql.png",alt:"Interfaz de graphiql",mdxType:"Image"}),Object(n.b)("p",null,"En la imagen vemos que a la izquierda nos va a aparecer toooooodo lo que tenemos\ndisponible, no va a ser exactamente igual que en la imagen pero podemos ver\ncosas como ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"allFile")," para consultar todos los archivos que exponemos con el\nplugin ",Object(n.b)("strong",{parentName:"p"},"gatsby-source-filesystem")," que nos vino preinstalado, tambi√©n ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"file"),"\npara consultar por cierto archivo usando filtros, ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"allImageSharp")," para todas las\nfotos, ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"imageSharp")," para una sola foto, y as√≠... Se entiende la diferencia? üòâ"),Object(n.b)("p",null,"Entonces si vemos nuestra query y el resultado de realizarla en el lado derecho\nde ",Object(n.b)("strong",{parentName:"p"},"GraphiQL"),", vemos que nos traemos el t√≠tulo de nuestra p√°gina, pero d√≥nde\ndefinimos nosotros eso? ü§î Esto viene predefinido con Gatsby, y son valores que\nest√°n en el archivo ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"gatsby-config.js"),", donde veremos este objeto:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"javascript"},Object(n.b)("pre",Object.assign({parentName:"div"},{className:"language-javascript"}),Object(n.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"siteMetadata",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n    title",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"Gatsby Default Starter"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n    description",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need."),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n    author",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),":")," ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"@gatsbyjs"),Object(n.b)("span",Object.assign({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")))),Object(n.b)("p",null,"El cual va a tener toda la metadata de nuestro proyecto, as√≠ que esos tres\nvalores (title, description y author) van a ser consultables tranquilamente en\ncualquier lugar de nuestro frontend si los requerimos! (prueben en GraphiQL si\nno me creen üòõ) Creo que mas que seguir explicando cosas, van a aprender m√°s si\nempiezan a jugar un poco con GraphiQL."),Object(n.b)("p",null,"Nuestros proyectos de github todav√≠a no los tenemos disponibles para consultar y\nusar en el frontend, para eso necesitamos generar la query en la configuraci√≥n\ndel plugin y ya estar√≠a (recuerden que nuestros archivos ",Object(n.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"gatsby-algo.js"),"\nfuncionan como nuestro backend), vamos al siguiente paso para verlo üòÅ"))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-mdx-0b805c1c1f49baa25fe9.js.map